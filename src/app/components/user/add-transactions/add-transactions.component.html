<div class="transaction-form-container">
  <h2 class="form-title">Add Transaction</h2>

  <form
    (ngSubmit)="onSubmit()"
    [formGroup]="transactionForm"
    class="transaction-form"
  >
    <!-- Select Card -->
    <div class="form-group">
      <label for="card">Select Card</label>
      <select
        id="card"
        formControlName="cardId"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            transactionForm.get('cardId')?.invalid &&
            transactionForm.get('cardId')?.touched
        }"
      >
        <option value="">-- Select a Card --</option>
        <option *ngFor="let card of cards" [value]="card.id">
          {{ card.displayName }}
        </option>
      </select>
      <div
        class="error-message"
        *ngIf="
          transactionForm.get('cardId')?.invalid &&
          transactionForm.get('cardId')?.touched
        "
      >
        Card is required.
      </div>
    </div>

    <!-- Amount -->
    <div class="form-group">
      <label for="amount">Amount</label>
      <input
        id="amount"
        type="number"
        formControlName="amount"
        class="form-control"
        placeholder="Enter amount"
        [ngClass]="{
          'is-invalid':
            transactionForm.get('amount')?.invalid &&
            transactionForm.get('amount')?.touched
        }"
      />
      <div
        class="error-message"
        *ngIf="
          transactionForm.get('amount')?.invalid &&
          transactionForm.get('amount')?.touched
        "
      >
        Amount is required and must be greater than 0.
      </div>
    </div>

    <!-- Date -->
    <div class="form-group">
      <label for="date">Date</label>
      <input
        id="date"
        type="date"
        formControlName="date"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            transactionForm.get('date')?.invalid &&
            transactionForm.get('date')?.touched
        }"
      />
      <div
        class="error-message"
        *ngIf="
          transactionForm.get('date')?.invalid &&
          transactionForm.get('date')?.touched
        "
      >
        Date is required.
      </div>
    </div>

    <!-- Type of Transaction -->
    <div class="form-group">
      <label for="type">Transaction Type</label>
      <select
        id="type"
        formControlName="type"
        class="form-control"
        [ngClass]="{
          'is-invalid':
            transactionForm.get('type')?.invalid &&
            transactionForm.get('type')?.touched
        }"
      >
        <option value="">-- Select a Transaction Type --</option>
        <option value="Groceries">Groceries</option>
        <option value="Netflix">Netflix</option>
        <option value="Spotify">Spotify</option>
        <option value="Payday">Payday</option>
      </select>
      <div
        class="error-message"
        *ngIf="
          transactionForm.get('type')?.invalid &&
          transactionForm.get('type')?.touched
        "
      >
        Transaction type is required.
      </div>
    </div>

    <!-- Spending or Adding -->
    <div class="form-group form-checkbox">
      <input id="isSpending" type="checkbox" formControlName="isSpending" />
      <label for="isSpending">This is a spending</label>
    </div>

    <!-- Submit Button -->
    <div class="form-group">
      <button
        type="submit"
        class="btn-submit"
        [disabled]="transactionForm.invalid"
      >
        Add Transaction
      </button>
    </div>
  </form>
</div>
